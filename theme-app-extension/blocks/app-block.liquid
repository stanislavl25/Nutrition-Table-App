<nutrition-Table data-id="{{ block.id }}">
  <section style=" display:flex;flex-direction: column;justify-content: center;width: 100%;align-items:{{block.settings.vertical_alignment}};"> 
    {% assign body_font_size = block.settings.body_font_size%}
    {% assign ProductsExist = false %}
    {% assign somethingWrong = false %}
    {% assign aPreparedPortionIsEquivalentTo = false %}
    {% assign ServingspercontainerNA = false %}
    {% assign servingSizeCA = false %}
    {% assign caloriesPerServingBasic = false %}
    <script>
     document.addEventListener("DOMContentLoaded",()=>{
    const topHeaderElem = document.getElementById("header1");
    const aPreparedPortionIsEquivalentToElem = document.getElementById("aPreparedPortionIsEquivalentTo");
    const fetchProducts = async(id)=>{ 
      const products = await fetch("/apps/products_liveTheme",{
        method:"POST",
       headers:{
         'Content-Type': 'application/json',
         Accept: 'application/json'
       }, 
       body:JSON.stringify({id:id})
      }).then((res)=>res.json()).then((response)=>{    
       const data = response.data[0];
       const shop = response.shopData[0];
        console.log(response) 
       if( response.success && !response.data.length>0){
        {%assign ProductsExist = false %}
          return;
      } if(!response.success){
        {% assign somethingWrong = true %}
        return
      } else if(response.success && response.data.length>0){
        {%assign ProductsExist = true %}
          if(shop.location==="EU"){
          topHeaderElem.innerText = shop.NutritionInformation
        }else{
          topHeaderElem.innerText = shop.nutritionFacts
        }
        if(shop.location === "EU" && data.productToPrepare){
          const strong = document.createElement("strong");
          const unit = data.servingSize.EU.PortionSizeUnit === "Grams"?"g":"mg"
          const text = shop.aPreparedPortionIsEquivalentTo + " " + data.servingSize.EU.PortionSize + unit 
          {% assign aPreparedPortionIsEquivalentTo = true %}
          strong.innerText = text
          aPreparedPortionIsEquivalentToElem.append(strong); 
        }
        if(shop.location === "NA"){
          {% assign ServingspercontainerNA = true %}
          let strongElem = document.createElement("strong")
          const ServingspercontainerNAElem = document.getElementById("ServingspercontainerNA")
          const ServingSizeNAElem = document.getElementById("ServingSizeNA")
          const text = data.servingSize.NA.Servingspercontainer + " " + shop.servingsPerContainer 
          ServingspercontainerNAElem.innerHTML = text
          ServingspercontainerNAElem.style.cssText = 'font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};';
          strongElem.innerHTML = shop.servingSize
          strongElem.style.cssText += 'font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};';
          ServingSizeNAElem.append(strongElem)
          const strongText = data.servingSize.NA.Servingreference + " " + data.servingSize.NA.servingsize
          strongElem.innerHTML = strongText
          strongElem.style.cssText += 'font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};';
          ServingSizeNAElem.append(strongElem)
        }
        if(shop.location === "CA"){
          {% assign servingSizeCA = true %}
          let  p = document.createElement("p")
          let  p1 = document.createElement("p")
          let  strong = document.createElement("strong")
          let  div = document.createElement("div")
          const servingSizeCA = document.getElementById('servingSizeCA');
          strong.innerText = "Valeur nutritive"
          strong.style.cssText += 'font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};';
          servingSizeCA.append(strong)
          const unit = data.servingSize.CA.unitBasic === "Milliliters" ? "ml" : "l";
          const textelem = data.servingSize.CA.servingRefBasic + " " + data.servingSize.CA.servingSizeBasic + unit
          p.innerHTML = textelem;
          p.style.cssText += 'font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};';
          div.append(p)
          const unit2 = data.servingSize.CA.unitBasic === "Milliliters" ? "ml" : "l";
          const text2 = data.servingSize.CA.bilingualRefBasic + " " + data.servingSize.CA.servingSizeBasic + unit2
          p1.innerHTML = text2
          p1.style.cssText += 'font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};';
          div.append(p1)
          servingSizeCA.append(div)
        }
        if(shop.location === "CA"){
          {% assign caloriesPerServingBasic = true %}
          const caloriesPerServingBasic = document.getElementById("caloriesPerServingBasic");
          const h4 = document.createElement("h4");
          const strong  = document.createElement("strong");
          const text = "Calories" + " " + data.servingSize.CA.caloriesPerServingBasic
          h4.innerText = text;
          h4.style.cssText += 'font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};';
          caloriesPerServingBasic.append(h4);
          strong.innerText = "% Daily Value*"
          strong.style.cssText += 'font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};';
          caloriesPerServingBasic.append(strong);
        }
          const thead = document.querySelector('thead');
          thead.style.cssText =  shop.location === "NA" && data.productToPrepare ?"{{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}}":"{{block.settings.secondaryBorderThickness}}px solid {{block.settings.secondaryBorder}}"
        if(shop.location === "EU"){
          const tr = document.createElement('tr');
          tr.style.cssText = "word-break: break-all;";
          const th = document.createElement("th");
          const th1 = document.createElement("th");
          th1.innerText = "Serving size";
          th1.style.cssText = "text-align:left;"
          tr.append(th1)
          const unit = data.servingSize.EU.DefaultAmountUnit === "MilliGrams"? "mg": "g"
          const text = shop.per + " " + data.servingSize.EU.DefaultAmount + unit
          th.innerText = text;
          tr.append(th);
          if(shop.shop_plan !== "Basic"){
            const th2 = document.createElement("th");
            const text2 = data.productToPrepare ? "" : shop.portion
            const text3 = data.productToPrepare ? shop.preparedPortion : 1 
            const unit1 = data.servingSize.EU.PortionSizeUnit === "MilliGrams"?"mg": "g";
            const finalText = data.servingSize.EU.PortionSize + " " + unit1 
            th2.innerHTML = text3 + "\n" + text2 + "\n" + finalText 
            tr.append(th2)
            const th3 = document.createElement("th");
            th3.innerText = "% RI*"
            th3.style.cssText = "border-right:none;"
            tr.append(th3)
            thead.append(tr);
          }
        }
        if(shop.location === "NA"){
          const tr = document.createElement('tr');
          const th = document.createElement('th');
          const strong = document.createElement("strong");
          const th1 = document.createElement('th');
          const th2 = document.createElement('th');
          const strong1 = document.createElement("strong");
          const strong2 = document.createElement("strong");
          th.style.cssText = "text-align:left;";
          strong.innerText = shop.amountPerServing;
          th.append(strong)
          tr.append(th);
          th1.style.cssText = "border-right:1px solid #ccc;border-left:1px solid #ccc;text-align:right;"
          strong1.innerText = data.servingSize.NA.Servingreference
          th1.append(strong1);
          tr.append(th1);
          th2.style.cssText = "text-align:right;";
          strong2.innerText = "As prepared";
          th2.append(strong2)
          tr.append(th2);
          thead.append(tr);
          const tr1 = document.createElement('tr');
          const th4 = document.createElement("th");
          const th5 = document.createElement("th");
          const th6 = document.createElement("th");
          const strong3 = document.createElement("strong")
          const strong4 = document.createElement("strong")
          const strong5 = document.createElement("strong")
          tr1.style.cssText = "border-bottom:3px solid black;";
          th4.style.cssText = "text-align:left;";
          th5.style.cssText = "border-right:1px solid #ccc;border-left: 1px solid #ccc;text-align: right;"
          th6.style.cssText = "text-align:right;"
          strong4.style.cssText = "text-align:right;"
          strong3.innerText = shop.calories;
          th4.append(strong3)
          tr.append(th4)
          strong4.innerText = data.servingSize.NA.Unpreparedcalories;
          th5.append(strong4)
          tr.append(th5)
          strong5.innerText = data.servingSize.NA.Preparedcalories;
          th6.append(strong5)
          tr.append(th6)
          thead.append(tr);
          if(data.productToPrepare){
            
          }
        } 

      }
      }).catch((err)=>{ 
        {% assign somethingWrong = true %}
       console.log(err)
      })
      }
      fetchProducts({{product.id}});
      })
      </script>


    {%- if ProductsExist == false -%}
      <h1>no products stored on the App!</h1>
      <h2>you need to modify lables in the App first.</h2>
    {%- endif -%}

    {%- if somethingWrong == true -%}
      <h1>Something wrong happend!</h1>
      <h2>if this continues contact the App support.</h2>
    {%- endif -%}

    <div id="container" style="overflow:hidden;position:relative;z-index:1;width:{{block.settings.tableWidth}}%;border:{{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};border-radius:{{block.settings.borderRadiusMainTable}}px;background-color:{{block.settings.Table_background_color}};">
      
      {%-if ProductsExist == true -%}
    {%- if block.settings.back_ground_image-%}
    <img style="position: absolute;height: 100%;width:100%;background-repeat: no-repeat;background-size: cover;z-index: -1; " src="{{block.settings.back_ground_image | img_url: 'large'}}" alt="" height="" width="">
    {%- endif -%}

    <div  style="border-bottom: {{block.settings.secondaryBorderThickness}}px solid {{block.settings.secondaryBorder}};">
      <div>
        <div style="display: flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding-left:4px;padding-right:4px;border-bottom:{{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};">
          <div style="display:flex;flex-direction:row;align-items:center;gap:10px;">

            {%- if block.settings.custom_accordion_icon_opend-%}
            <img src="{{block.settings.custom_accordion_icon_opend | img_url: '15*15'}}"   alt="" width="15" height="15" style="margin-right: 10px;">
            {%- endif -%}

          <h2 id="header1" style="font-weight:bolder;font-size:3rem;font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{block.settings.acorddions_headings_font_size}}px;"></h2>
          </div>

          {%- if block.settings.custom_accordion_icon_closed-%}
          <img src="{{block.settings.custom_accordion_icon_closed | img_url: '15*15'}}"   alt="" width="15" height="15" style="margin-right: 10px;">
          {%- endif -%}

        </div>
      </div>

      {%-if aPreparedPortionIsEquivalentTo == true -%}
      <div id="aPreparedPortionIsEquivalentTo" style="color:white; text-align: center; background-color: black; width: 100%; padding-top: 10px; padding-bottom: 10px;"></div>
      {%- endif -%}

      {%-if ServingspercontainerNA == true -%}
      <div style="border-bottom: 3px solid black;">
        <div id="ServingspercontainerNA"></div>
        <div id="ServingSizeNA" style="display: flex; flex-direction: row;align-items: center;justify-content: space-between;">
        </div>
      </div>
      {%- endif -%}

      {%-if servingSizeCA== true -%}
      <div id="servingSizeCA" style="display:flex;flex-direction:column;border-bottom: 3px solid black;"></div>
      {%- endif -%}

      {%-if caloriesPerServingBasic== true -%}
      <div>
        <div id="caloriesPerServingBasic" style="padding-left:4px;padding-right:4px;display: flex; flex-direction: row;align-items: center; justify-content: space-between;"></div>
        <div style="height:40px;display:flex;flex-direction:row;align-items:center;gap:10px;">
        <hr style="width:150%;border-top:{{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};">
        <p style="width: 100%;text-align: end;">
        <strong style="display:flex;flex-direction:row;align-items:center;text-align:end;font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};">% valeur quotidienne*</strong>
        </p>
      </div>
      </div>
      {%- endif -%}

        <!-- <h4 style="font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">6 serving per container</h4>
        <div class="performance-facts_secondaryHeader" >
          <h3 style="margin:0; font-weight: bold;font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">Serving size </h3>
          <h3 style="margin:0; font-weight: bold;font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">1 cup (230g) </h3>
        </div> -->
    </div>
    <table  class="table_cont">
     <thead></thead>
      <tbody>

        <!-- <tr style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <th colspan="2">
            <b>Calories</b>
            200
          </th>
          <td>
            Calories from Fat
            130
          </td>
        </tr>
        <tr class="thick-row" style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <td colspan="3" class="small-info">
            <b>% Daily Value*</b>
          </td>
        </tr>
        <tr style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <th colspan="2">
            <b>Total Fat</b>
            14g
          </th>
          <td>
            <b>22%</b>
          </td>
        </tr>
        <tr style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <td class="blank-cell">
          </td>
          <th>
            Saturated Fat
            9g
          </th>
          <td>
            <b>22%</b>
          </td>
        </tr>
        <tr style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <td class="blank-cell">
          </td>
          <th>
            Trans Fat
            0g
          </th>
          <td>
          </td>
        </tr>
        <tr style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <th colspan="2">
            <b>Cholesterol</b>
            55mg
          </th>
          <td>
            <b>18%</b>
          </td>
        </tr>
        <tr style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <th colspan="2">
            <b>Sodium</b>
            40mg
          </th>
          <td>
            <b>2%</b>
          </td>
        </tr>
        <tr style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <th colspan="2">
            <b>Total Carbohydrate</b>
            17g
          </th>
          <td>
            <b>6%</b>
          </td>
        </tr>
        <tr style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <td class="blank-cell">
          </td>
          <th>
            Dietary Fiber
            1g
          </th>
          <td>
            <b>4%</b>
          </td>
        </tr>
        <tr style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <td class="blank-cell">
          </td>
          <th>
            Sugars
            14g
          </th>
          <td>
          </td>
        </tr>
        <tr style="border-bottom:{{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <th colspan="2">
            <b>Protein</b>
            3g
          </th>
          <td>
          </td>
        </tr> -->
      </tbody>
    </table>
    <!-- <table class="performance-facts__table--grid">
      <tbody>
        <tr style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <td colspan="2" >
            Vitamin A
            10%
          </td>
          <td>
            Vitamin C
            0%
          </td>
        </tr>
        <tr style="border-bottom:{{block.settings.secondaryBorderThickness}}px solid {{block.settings.secondaryBorder}};font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">
          <td colspan="2">
            Calcium
            10%
          </td>
          <td>
            Iron
            6%
          </td>
        </tr>
      </tbody>
    </table> -->
    <!-- <p style="border-bottom:1px solid black;font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">Salt content is exclusively due to the presence of naturally occurring sodium.</p>
    <p style="border-bottom:{{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};width:100%;font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;">*Reference intake of an average adult (8 400 kJ / 2 000 kcal)</p> -->
    <div class="header_container" style="border-bottom:{{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};">
      <div style="display:flex;flex-direction:row;align-items:center;gap:10px;">

        {%- if block.settings.custom_accordion_icon_opend-%}
        <img src="{{block.settings.custom_accordion_icon_opend | img_url: '15*15'}}"   alt="" width="15" height="15" style="margin-right: 10px;">
        {%- endif -%}

      <h2 style="font-weight:bolder;font-size:3rem;font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{block.settings.acorddions_headings_font_size}}px;">Ingredients</h2>
      </div>

      {%- if block.settings.custom_accordion_icon_closed-%}
      <img src="{{block.settings.custom_accordion_icon_closed | img_url: '15*15'}}"   alt="" width="15" height="15" style="margin-right: 10px;">
      {%- endif -%}

    </div>
    <div style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};width:100%;display:flex;
    flex-wrap:wrap;gap:5px;font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;margin-bottom:10px;">
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:100px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_ingredient_icon-%}
      <img src="{{block.settings.Custom_ingredient_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%}

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">Mandarin Oranges (37.9%)</p>
    </div>
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_ingredient_icon-%}
      <img src="{{block.settings.Custom_ingredient_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%}

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">Light Whipping Cream (<strong>Milk</strong>)</p>
    </div>
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_ingredient_icon-%}
      <img src="{{block.settings.Custom_ingredient_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%}

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">Peras (12.4%)</p>
    </div>
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_ingredient_icon-%}
      <img src="{{block.settings.Custom_ingredient_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%}

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">Peaches (7.7%)</p>
    </div>
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_ingredient_icon-%}
      <img src="{{block.settings.Custom_ingredient_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%}

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">Thompson Seedles Grapes (7.6%)</p>
    </div>
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_ingredient_icon-%}
      <img src="{{block.settings.Custom_ingredient_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%}

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">Apple (7.5%)</p>
    </div>
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_ingredient_icon-%}
      <img src="{{block.settings.Custom_ingredient_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%}

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">Banana (5.9%)</p>
    </div>
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_ingredient_icon-%}
      <img src="{{block.settings.Custom_ingredient_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%}

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">English Walnuts <strong>(Tree Nuts)</strong></p>
    </div>
      </div>
    <div class="header_contaier" style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};">
      <div style="display:flex;flex-direction:row;align-items:center;gap:10px;">
        
        {%- if block.settings.custom_accordion_icon_opend-%}
        <img src="{{block.settings.custom_accordion_icon_opend | img_url: '15*15'}}"   alt="" width="15" height="15" style="margin-right: 10px;">
        {%- endif -%}

      <h2 style="font-weight:bolder;font-size: 3rem;font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{block.settings.acorddions_headings_font_size}}px;">Allergy Information</h2>
      </div>
      
      {%- if block.settings.custom_accordion_icon_closed-%}
      <img src="{{block.settings.custom_accordion_icon_closed | img_url: '15*15'}}"   alt="" width="15" height="15" style="margin-right: 10px;">
      {%- endif -%}

    </div>
    <div style="border-bottom: {{block.settings.primaryBorderThickness}}px solid {{block.settings.primaryBorder}};width:100%;display:flex;
    flex-wrap:wrap;gap:5px;text-align:center;">
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_allergen_icon-%}
      <img src="{{block.settings.Custom_allergen_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%} 

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px;">Contains Wheat</p>
    </div>
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_allergen_icon-%}
      <img src="{{block.settings.Custom_allergen_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%} 

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">Almond</p>
    </div>
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_allergen_icon-%}
      <img src="{{block.settings.Custom_allergen_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%} 

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">Peanut</p>
    </div>
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_allergen_icon-%}
      <img src="{{block.settings.Custom_allergen_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%} 

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">Soy</p>
    </div>
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px;background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_allergen_icon-%}
      <img src="{{block.settings.Custom_allergen_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%} 

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">Milk</p>
    </div>
    <div style="display:flex;flex-direction: row;align-items:center;gap:5px;border-radius:{{block.settings.cell_border_radius}}px;padding:{{block.settings.Ingredients_allergens_border_padding}}px; background-color:{{block.settings.cells_background_color}};text-align:center;padding:2px;">
      
      {%- if block.settings.Custom_allergen_icon-%}
      <img src="{{block.settings.Custom_allergen_icon | img_url: '10*10'}}"   alt="" width="10" height="10">
      {%- endif -%} 

      <p style="font-family:{{block.settings.body_font.family}};color:{{block.settings.Ingredients_allergens_color}};font-size:{{body_font_size}}px">It May contain other tree nuts</p>
    </div>
    </div>
   <div  style="font-family:{{block.settings.body_font.family}};color:{{block.settings.body_fontColor}};font-size:{{body_font_size}}px;margin-top:10px;">
    <strong>
      *LEGAL NOTICE
    </strong>
     Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed elementum risus tempor, blandit nisi sollicitudin, varius diam. 
   </div>
   {%-endif-%}
  </div>
  </section>
</nutrition-Table>

{% schema %}
{
  "name":"Nutrition Table",
  "target":"section",
  "stylesheet":"germanStyleTable.css",
  "javascript":"nutritionTable.js",
  "templates":["product"],
  "settings":[
    {
      "type":"header",
      "content":"Label Block"
    },
   {
    "type":"select",
    "id":"vertical_alignment",
    "label":"Align",
    "options":
    [
       {
          "value":"left",
          "label":"Left"
       },
       {
          "value":"center",
          "label":"Center"
       },
       {
          "value":"end",
          "label":"Right"
       }
    ],
    "default":"center"
   },
   {
    "type":"range",
    "id":"tableWidth",
    "min":25,
    "max":100,
    "step":1,
    "unit":"%",
    "label":"Width",
    "default":30
   },
   {
    "type":"header",
    "content":"MAIN TABLE"
   },
   {
    "type":"color",
    "id":"primaryBorder",
    "label":"Primary Border color",
    "default":"#CECECE"
   },
   {
    "type":"color",
    "id":"secondaryBorder",
    "label":"Secondary Border color",
    "default":"#222222"
   },
   {
    "type":"range",
    "id":"primaryBorderThickness",
    "min":0,
    "max":3,
    "step":0.5,
    "unit":"px",
    "label":"Primary Border Thickness",
    "default":1
   },
   {
    "type":"range",
    "id":"secondaryBorderThickness",
    "min":0,
    "max":5,
    "step":0.5,
    "unit":"px",
    "label":"Secondary Border Thickness",
    "default":2
   },
   {
    "type":"range",
    "id":"borderRadiusMainTable",
    "min":0,
    "max":20,
    "step":1,
    "unit":"px",
    "label":"Border Radius",
    "default":1
   },
   {
    "type": "color",
    "id": "Table_background_color",
    "label": "Table background color",
    "default": " #FFFFFF"
   },
   {
    "type": "image_picker",
    "id": "back_ground_image",
    "label": "Table Background"
  },
  {
    "type":"header",
    "content":"FONT STYLE"
   },
   {
    "type": "font_picker",
    "id": "body_font",
    "label": "Body Font",
    "default": "helvetica_n4"
  },
  {
    "type": "color",
    "id": "body_fontColor",
    "label": "Font color",
    "default": "#000000"
  },
  {
    "type": "range",
    "id": "body_font_size",
    "min": 2,
    "max": 18,
    "step": 1,
    "unit": "px",
    "label": "Body font size",
    "default": 12
  },
  {
    "type": "range",
    "id": "acorddions_headings_font_size",
    "min": 4,
    "max": 22,
    "step": 1,
    "unit": "px",
    "label": "Acorddions headings font size",
    "default": 16
  },
  {
    "type":"header",
    "content":"CELLS STYLE"
   },
   {
    "type": "color",
    "id": "cells_background_color",
    "label": "Cells Background Color",
    "default": "#F3F3F3"
  },
  {
    "type": "range",
    "id": "cell_border_radius",
    "min": 0,
    "max": 20,
    "step": 1,
    "unit": "px",
    "label": "Cell border radius",
    "default": 4
  },
  {
    "type": "range",
    "id": "Ingredients_allergens_border_padding",
    "min": 0,
    "max": 20,
    "step": 1,
    "unit": "px",
    "label": "Cells border padding",
    "default": 0
  },
  {
    "type":"header",
    "content":"ICONS AND DETAILS"
  },
  {
    "type": "color",
    "id": "Ingredients_allergens_color",
    "label": "Body font color",
    "default": "#F3F3F3"
  },
  {
    "type": "image_picker",
    "id": "Custom_ingredient_icon",
    "label": "Custom ingredient icon"
  },
  {
    "type": "image_picker",
    "id": "Custom_allergen_icon",
    "label": "Custom allergen icon"
  },
  {
    "type": "image_picker",
    "id": "custom_accordion_icon_opend",
    "label": "Custom Accordion Icon opend"
  },
  {
    "type": "image_picker",
    "id": "custom_accordion_icon_closed",
    "label": "Custom Accordion Icon closed "
  }
  ]
}
{% endschema %}
<!-- {
 "type":"paragraph",
 "content":"These settings affect the text on the whole section."
}, -->



<!-- {
 "type":"paragraph",
 "content":"Modify the style of the cells"
}, -->

<!-- {
 "type":"paragraph",
 "content":"Extra styling options, such as icons and icons color."
}, -->
